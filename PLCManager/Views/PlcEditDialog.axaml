<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:PLCManager.ViewModels"
        x:Class="PLCManager.Views.PlcEditDialog"
        Title="PLC Details"
        Width="520"
        Height="550"
        WindowStartupLocation="CenterOwner"
        Background="#36393F"
        CanResize="False"
        ExtendClientAreaToDecorationsHint="True"
        ExtendClientAreaChromeHints="NoChrome"
        ExtendClientAreaTitleBarHeightHint="35">

    <DockPanel>
        <!-- Custom Title Bar -->
        <Border DockPanel.Dock="Top" Background="#5865F2" Height="35" PointerPressed="OnTitleBarPointerPressed">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="80"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0"
                          Name="TitleTextBlock"
                          Text="Add Connection"
                          FontSize="14"
                          FontWeight="Bold"
                          Foreground="White"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Left"
                          Margin="12,0,0,0"/>

                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="0">
                    <Button Content="â€”"
                            Click="OnMinimizeClick"
                            Background="Transparent"
                            Foreground="White"
                            BorderThickness="0"
                            Width="40"
                            Height="35"
                            FontSize="16"
                            Padding="0,-5,0,0"
                            VerticalContentAlignment="Center"
                            HorizontalContentAlignment="Center">
                        <Button.Styles>
                            <Style Selector="Button:pointerover">
                                <Setter Property="Background" Value="#4752C4"/>
                            </Style>
                        </Button.Styles>
                    </Button>
                    <Button Content="âœ•"
                            Click="OnCancel"
                            Background="Transparent"
                            Foreground="White"
                            BorderThickness="0"
                            Width="40"
                            Height="35"
                            FontSize="16"
                            VerticalContentAlignment="Center"
                            HorizontalContentAlignment="Center">
                        <Button.Styles>
                            <Style Selector="Button:pointerover">
                                <Setter Property="Background" Value="#ED4245"/>
                            </Style>
                        </Button.Styles>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Buttons -->
        <Border DockPanel.Dock="Bottom" Background="#2F3136" Padding="15">
            <StackPanel>
                <TextBlock Name="ErrorTextBlock"
                          Text=""
                          Foreground="#ED4245"
                          FontSize="12"
                          Margin="0,0,0,10"
                          TextWrapping="Wrap"
                          IsVisible="False"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                    <Button Content="Cancel"
                            Click="OnCancel"
                            Background="#4F545C"
                            Foreground="White"
                            Padding="20,8"
                            Width="100"/>
                    <Button Content="Save"
                            Click="OnSave"
                            Background="#5865F2"
                            Foreground="White"
                            Padding="20,8"
                            Width="100"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Form Fields -->
        <ScrollViewer>
            <StackPanel Margin="20" Spacing="15">
                <!-- Name -->
                <StackPanel>
                    <TextBlock Text="Connection Name *" Foreground="#B9BBBE" FontSize="12" Margin="0,0,0,5"/>
                    <TextBox Name="NameTextBox"
                            Background="#40444B"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="10"
                            FontSize="14"/>
                </StackPanel>

                <!-- Building -->
                <StackPanel>
                    <TextBlock Text="Building *" Foreground="#B9BBBE" FontSize="12" Margin="0,0,0,5"/>
                    <ComboBox Name="BuildingComboBox"
                             Background="#40444B"
                             Foreground="White"
                             BorderThickness="0"
                             Padding="10"
                             FontSize="14">
                        <ComboBox.Styles>
                            <Style Selector="ComboBoxItem">
                                <Setter Property="Background" Value="#40444B"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Style>
                            <Style Selector="ComboBoxItem:pointerover /template/ ContentPresenter">
                                <Setter Property="Background" Value="#5865F2"/>
                            </Style>
                            <Style Selector="ComboBoxItem:selected /template/ ContentPresenter">
                                <Setter Property="Background" Value="#5865F2"/>
                            </Style>
                        </ComboBox.Styles>
                        <ComboBox.Items>
                            <ComboBoxItem Content="West"/>
                            <ComboBoxItem Content="East"/>
                            <ComboBoxItem Content="South"/>
                            <ComboBoxItem Content="North"/>
                            <ComboBoxItem Content="Skaneateles"/>
                            <ComboBoxItem Content="Auburn"/>
                        </ComboBox.Items>
                    </ComboBox>
                </StackPanel>

                <!-- PLC IP -->
                <StackPanel>
                    <TextBlock Text="PLC IP Address *" Foreground="#B9BBBE" FontSize="12" Margin="0,0,0,5"/>
                    <TextBox Name="PlcIpTextBox"
                            Background="#40444B"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="10"
                            FontSize="14"
                            Watermark="192.168.1.100"/>
                </StackPanel>

                <!-- My IP -->
                <StackPanel>
                    <TextBlock Text="My IP Address *" Foreground="#B9BBBE" FontSize="12" Margin="0,0,0,5"/>
                    <TextBox Name="MyIpTextBox"
                            Background="#40444B"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="10"
                            FontSize="14"
                            Watermark="192.168.1.10"/>
                </StackPanel>

                <!-- Subnet Mask -->
                <StackPanel>
                    <TextBlock Text="Subnet Mask *" Foreground="#B9BBBE" FontSize="12" Margin="0,0,0,5"/>
                    <TextBox Name="SubnetMaskTextBox"
                            Background="#40444B"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="10"
                            FontSize="14"
                            Text="255.255.255.0"/>
                </StackPanel>

                <!-- Gateway -->
                <StackPanel>
                    <TextBlock Text="Gateway" Foreground="#B9BBBE" FontSize="12" Margin="0,0,0,5"/>
                    <TextBox Name="GatewayTextBox"
                            Background="#40444B"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="10"
                            FontSize="14"
                            Watermark="192.168.1.1"/>
                </StackPanel>

                <!-- Network Adapter -->
                <StackPanel>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Network Adapter *" Foreground="#B9BBBE" FontSize="12" Margin="0,0,0,5"/>
                        <Button Grid.Column="1"
                                Content="ðŸ”„ Refresh"
                                Click="OnRefreshAdapters"
                                Background="#40444B"
                                Foreground="White"
                                Padding="8,4"
                                FontSize="11"
                                Margin="0,0,0,5">
                            <Button.Styles>
                                <Style Selector="Button:pointerover">
                                    <Setter Property="Background" Value="#5865F2"/>
                                </Style>
                            </Button.Styles>
                        </Button>
                    </Grid>
                    <ComboBox Name="AdapterComboBox"
                             Background="#40444B"
                             Foreground="White"
                             BorderThickness="0"
                             Padding="10"
                             FontSize="14">
                        <ComboBox.Styles>
                            <Style Selector="ComboBoxItem">
                                <Setter Property="Background" Value="#40444B"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Style>
                            <Style Selector="ComboBoxItem:pointerover /template/ ContentPresenter">
                                <Setter Property="Background" Value="#5865F2"/>
                            </Style>
                            <Style Selector="ComboBoxItem:selected /template/ ContentPresenter">
                                <Setter Property="Background" Value="#5865F2"/>
                            </Style>
                        </ComboBox.Styles>
                    </ComboBox>
                    <CheckBox Name="ShowInactiveCheckBox"
                              Content="Show inactive adapters"
                              Foreground="#B9BBBE"
                              FontSize="11"
                              Margin="0,8,0,0"
                              Checked="OnShowInactiveChanged"
                              Unchecked="OnShowInactiveChanged">
                        <CheckBox.Styles>
                            <Style Selector="CheckBox:checked /template/ Border#NormalRectangle">
                                <Setter Property="Background" Value="#5865F2"/>
                                <Setter Property="BorderBrush" Value="#5865F2"/>
                            </Style>
                        </CheckBox.Styles>
                    </CheckBox>
                </StackPanel>

                <!-- Notes -->
                <StackPanel>
                    <TextBlock Text="Notes" Foreground="#B9BBBE" FontSize="12" Margin="0,0,0,5"/>
                    <TextBox Name="NotesTextBox"
                            Background="#40444B"
                            Foreground="White"
                            BorderThickness="0"
                            Padding="10"
                            FontSize="14"
                            AcceptsReturn="True"
                            TextWrapping="Wrap"
                            Height="80"/>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </DockPanel>
</Window>
